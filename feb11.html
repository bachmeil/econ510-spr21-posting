<style>
body { max-width: 850px; margin: auto; margin-top: 60px; font-family: Roboto, Trebuchet MS, Arial; margin-bottom: 100px; font-size: 1.2em; }
.hy { background-color: yellow; }
.hc { background-color: lightcyan; }
pre { border: 1px solid green; border-radius: 6px; padding: 10px; }
.hide { display: none; }
button { font-size: 16px; background-color: inherit; border-radius: 4px; border: 1px solid silver; margin-left: 8px; }
.flag { color: green; }
.content { font-size: 1.8em; }
.table { font-size: 100%; font-family: "Ubuntu Mono", "Source Code Pro", "Courier New"; }
td, th { padding-right: 32px; text-align: left; }
.counter { font-size: 100%; color: brown; }
</style>



<div id="content" class="content">Click a button at the bottom to choose a slide.</div>
<br><br>
<span id="counter" class="counter"></span> <span id="subset" class="counter"></span>

<button onclick="showSlide(101)">101</button>
<div id="101" style="display: none">
<h1>News</h1>
Initial unemployment claims remain at about 800,000.
</div>

<button onclick="showSlide(102); c(102);">102</button>
<div id="102" style="display: none">
Jump in with any questions that arise as I talk. I'm doing this in a live format because each step builds on what came before.
</div>

<button onclick="showSlide(1); reset(1,1); c(1, 1, 2);">1</button>
<div id="1" style="display: none">
<h1>Goods Market Model</h1>
We started developing the <u>IS/LM model</u> on Tuesday. It's used to explain how output and employment react to shocks that hit the economy. Most notably, <span id="slide1-text1">we want a way to explain recessions</span>.
<br><br>
The goods market model of chapter 3 is the foundation of the IS/LM model.
</div>

<button onclick="hy(1,1); c(2, 2, 2);">2</button>
<button onclick="demandline(); c(3, 1, 2);">3</button>
<button onclick="eq(); c(4, 2, 2);">4</button>

<button onclick="showSlide(5); c(5);">5</button>
<div id="5" style="display: none">
<h1>Solving For Equilibrium</h1>
Our goal is to analyze how a particular shock causes equilibrium to change.
<br><br>
The first step in that process is to know how to solve for equilibrium.
<ul>
	<li>Algebraic examples</li>
	<li>Graphical (black box)</li>
</ul>
</div>
<button onclick="showSlide(6); c(6);">6</button>
<div id="6" style="display: none">
Suppose we have (in billions)
<br><br>
C = 100 + 0.75Y
<br>
I = 300
<br>
G = 100
<br><br>
Then demand is given by (using some middle school calculations)
<br><br>
Z = 100 + 0.75Y + 300 + 100
<br>
Z = (100 + 300 + 100) + 0.75Y
<br>
Z = 500 + 0.75Y
</div>

<button onclick="showSlide(7); c(7);">7</button>
<div id="7" style="display: none">
<h1>Solving for equilibrium</h1>
Given the demand equation
<br><br>
Z = 500 + 0.75Y
<br><br>
finding the equilibrium value of GDP (what we actually observe) is a simple matter.
</div>

<button onclick="showSlide(8); c(8);">8</button>
<div id="8" style="display: none">
<h1>Solving for equilibrium</h1>
Combine the demand equation with the equilibrium condition:
<br><br>
Y = Z
<br><br>
Z = 500 + 0.75Y
<br><br>
That gives us
<br><br>
Y = 500 + 0.75Y
</div>

<button onclick="showSlide(9); c(9, 1, 5);">9</button>
<div id="9" style="display: none">
<h1>Solving for equilibrium</h1>
Providing full details of the algebra:
<br><br>
Subtract 0.75Y from both sides:
<br><br>
<span id="slide9-text2">Y - 0.75Y</span> = 500 <span id="slide9-text1">+ 0.75Y - 0.75Y</span>
<div id="slide9-text3"></div>
</div>

<button onclick="showSlide(9); hy(9,1); txt(9, 3, '<pre>This value is zero</pre>'); c(10, 2, 5);">10</button>
<button onclick="showSlide(9); hy(9,2); txt(9, 3, '<pre>No coefficient means it is equal to 1 -> 0.25Y</pre>'); c(11, 3, 5);">11</button>
<button onclick="showSlide(9); txt(9, 3, '<br>0.25 Y = 500'); c(12, 4, 5);">12</button>
<button onclick="showSlide(9); txt(9, 3, '<br>0.25 Y = 500<br><br>4*0.25 Y = 4*500<br><br>Y<sup>*</sup> = 2000'); c(13, 5, 5);">13</button>

<button onclick="showSlide(14); c(14);">14</button>
<div id="14" style="display: none">
<h1>Interpretation</h1>
What's the interpretation of the 2000?
<br><br>
That's the amount produced <u>and</u> the amount demanded. That's the amount of production where firms are able to sell everything they produce, and consumers can buy everything they demand.
</div>

<button onclick="showSlide(15); c(15);">15</button>
<div id="15" style="display: none">
<h1>Interpretation</h1>
What if GDP was 1900?
<br><br>
That can't happen in this model because <u>consumers want to buy more than the amount of output</u>. There would be shortages.
</div>

<button onclick="showSlide(16); c(16);">16</button>
<div id="16" style="display: none">
<h1>Interpretation</h1>
What if GDP was 2100?
<br><br>
That can't happen in this model because <u>consumers don't want to buy that much output</u>. Firms would be making goods they can't sell. There would be a surplus.
</div>

<button onclick="showSlide(17); c(17);">17</button>
<div id="17" style="display: none">
<h1>What does "2000" mean?</h1>
Not much. It's just a number.
<br><br>
What we care about how it changes after a shock.
</div>

<button onclick="showSlide(18); c(18);">18</button>
<div id="18" style="display: none">
<h1>What is a shock?</h1>
In this class, it's any change in the economic environment.
</div>

<button onclick="showSlide(19); c(19);">19</button>
<div id="19" style="display: none">
<h1>Examples of macroeconomic shocks</h1>
<ul>
	<li>Start of a pandemic</li>
	<li>War breaks out</li>
	<li>Major changes in economic policy</li>
</ul>
</div>

<button onclick="showSlide(20); c(20);">20</button>
<div id="20" style="display: none">
<h1>Shock: Firms decide they want to invest more</h1>
Returning to our previous example, where we had
<br><br>
C = 100 + 0.75Y
<br>
I = 300
<br>
G = 100
<br><br>
We now have
<br><br>
I = 400
</div>

<button onclick="showSlide(21); c(21);">21</button>
<div id="21" style="display: none">
Combining all the terms,
<br><br>
Z = 100 + 0.75Y + 400 + 100
<br><br>
Z = 600 + 0.75 Y
</div>

<button onclick="showSlide(22); c(22);">22</button>
<div id="22" style="display: none">
Solving for the new equilibrium:
<br><br>
Y = 600 + 0.75 Y
<br><br>
0.25 Y = 600
<br><br>
Y<sup>*</sup> = 2400
<br><br>
GDP rises by 400 due to the positive investment shock.
</div>

<button onclick="showSlide(23); c(23);">23</button>
<div id="23" style="display: none">
<h1>Why did GDP rise?</h1>
More demand means firms produce more. Somebody has to produce the new business equipment.
</div>

<button onclick="showSlide(24); c(24);">24</button>
<div id="24" style="display: none">
<h1>Why did GDP rise by more than 100?</h1>
Investment rose by 100. Output rose by 400.
<br><br>
This is called the <u>multiplier</u>. We'll explore it more in the future (but not today!)
</div>

<button onclick="showSlide(25); c(25);">25</button>
<div id="25" style="display: none">
<h1>Homework 2</h1>
You now have what you need to complete all parts of homework 2.
</div>

<button onclick="showSlide(26); c(26);">26</button>
<div id="26" style="display: none">
Some other shocks we care about in this chapter:
<ul>
	<li>A change in the MPC (higher or lower)</li>
	<li>A change in saving behavior (save more or less)</li>
	<li>Increased/decreased government spending</li>
	<li>Increased/decreased taxes</li>
</ul>

<button onclick="showSlide(27); c(27);">27</button>
<div id="27" style="display: none">
<script>
	function c(n, i, j) {
		i = i || -1;
		document.getElementById('counter').innerHTML = "Slide " + n;
		if (i === -1) {
			document.getElementById('subset').innerHTML = "";
		} else {
			document.getElementById('subset').innerHTML = "(" + i + "/" + j + ")";
		}
	}
	
	function txt(slide, text, html) {
		document.getElementById("slide"+slide+"-text"+text).innerHTML = html;
	}
	
	function hy(slide, text) {
		document.getElementById("slide"+slide+"-text"+text).classList.add('hy');
	}
	
	function reset(slide, text) {
		document.getElementById("slide"+slide+"-text"+text).classList = "";
	}
	
	function showSlide(id) {
		document.getElementById("content").innerHTML = document.getElementById(id).innerHTML;
	}
	
	class Graph {
		constructor(h, w) {
			this.height = h;
			this.width = w;
			this.xlength = 700;
			this.ylength = 600;
			this.xoffset = 30;
			this.yoffset = 30;
		}
		
		xx0() {
			return this.xoffset;
		}
		
		yy0() {
			return this.yoffset + this.ylength;
		}
		
		coord(x, y) {
			return [this.xx0() + x, this.yy0() - y];
		}
		
		header() {
			return '<svg height="' + this.height + '" width="' + this.width + '">';
		}
		
		fullhtml(s) {
			return this.header() + "\n" + s + "</svg>";
		}
		
		line(point1, point2, options) {
			options = options || {}
			var color;
			if (options.hasOwnProperty('color')) {
				color = options['color'];
			} else {
				color = "purple";
			}
			var width;
			if (options.hasOwnProperty('width')) {
				width = options['width'];
			} else {
				width = 6;
			}
			var tmp1 = this.coord(point1[0], point1[1]);
			var tmp2 = this.coord(point2[0], point2[1]);
			return `<line x1="${tmp1[0]}" y1="${tmp1[1]}" x2="${tmp2[0]}" y2="${tmp2[1]}" style="stroke: ${color}; stroke-width: ${width}" />`;
		}
		
		yaxis() {
			return this.line([0, 0], [0, this.ylength]);
		}
		
		xaxis() {
			return this.line([-3, 0], [this.xlength, 0]);
		}
		
		axes() {
			return this.yaxis() + "\n" + this.xaxis();
		}
		
		point(x, y, options) {
			options = options || {}
			var color;
			if (options.hasOwnProperty('color')) {
				color = options['color'];
			} else {
				color = "black";
			}
			var tmp = this.coord(x, y);
			return `<circle cx="${tmp[0]}" cy="${tmp[1]}" r="4" stroke="${color}" stroke-width="3" fill="${color}" />`;
		}
		
		pointLabelTop(x, y, txt, options) {
			options = options || {}
			var color;
			if (options.hasOwnProperty('color')) {
				color = options['color'];
			} else {
				color = "black";
			}
			var tmp = this.coord(x-8, y+20);
			return `<text x="${tmp[0]}" y="${tmp[1]}" fill="${color}" style="font-family: mono; font-size: 24px;">${txt}</text>`;
		}
		
		insertText(x, y, txt, options) {
			options = options || {};
			var color;
			if (options.hasOwnProperty('color')) {
				color = options['color'];
			} else {
				color = "purple";
			}
			var tmp = this.coord(x, y);
			return `<text x="${tmp[0]}" y="${tmp[1]}" fill="${color}" style="font-family: mono; font-size: 24px;">${txt}</text>`;
		}
		
		blueText(x, y, txt) {
			var tmp = this.coord(x, y);
			return `<text x="${tmp[0]}" y="${tmp[1]}" fill="blue" style="font-family: mono; font-size: 24px;">${txt}</text>`;
		}
		
		box(x, y, width, options) {
			options = options || {};
			var color;
			if (options.hasOwnProperty('color')) {
				color = options['color'];
			} else {
				color = "black";
			}
			return this.line([x-width/2, y+width/2], [x+width/2, y+width/2], {'color': color, 'width': 2}) + 
				this.line([x+width/2, y+width/2], [x+width/2, y-width/2], {'color': color, 'width': 2}) +
				this.line([x-width/2, y-width/2], [x+width/2, y-width/2], {'color': color, 'width': 2}) +
				this.line([x-width/2, y-width/2], [x-width/2, y+width/2], {'color': color, 'width': 2});
		}
		
		innerhtml(obj) {
			var s = "";
			for (let key in obj) {
				s += obj[key] + "\n";
			}
			return this.fullhtml(s);
		}
		
		setinnerhtml(id, obj) {
			document.getElementById(id).innerHTML = this.innerhtml(obj);
		}

		h(id, obj) {
			document.getElementById(id).innerHTML = this.innerhtml(obj);
		}
	}
	
	function goodsMktGraph(g) {
		var m = {};
		m["axes"] = g.axes();
		m["x-label"] = g.insertText(-6, g.ylength+10, "Demand");
		m["y-label"] = g.insertText(g.xlength+10, 0, "GDP");
		return m;
	}
	
	function goodsMktTwoPoints(g, m) {
		m["pta"] = g.point(80,80);
		m["ptb"] = g.point(500,500);
		m["a-label"] = g.pointLabelTop(80, 80, "A");
		m["b-label"] = g.pointLabelTop(500, 500, "B");
		return m;
	}
	
	function goodsMktLine(g, m) {
		m["eqline"] = g.line([50, 50], [550, 550]);
		m["eqlabel"] = g.insertText(560, 550, "GDP = Demand");
		return m;
	}
	
	function graph() {
		return new Graph(800, 800);
	}
	
	function pta() {
		var g = graph();
		var m = goodsMktGraph(g);
		m["pta"] = g.point(80,80);
		m["a-label"] = g.pointLabelTop(80, 80, "A");
		m["explain"] = g.blueText(50, 200, "GDP and demand are equal at point A");
		g.h("graph", m);
	}
	
	function ptb() {
		var g = graph();
		var m = goodsMktGraph(g);
		m["ptb"] = g.point(500,500);
		m["b-label"] = g.pointLabelTop(500, 500, "B");
		m["explain"] = g.blueText(50, 350, "GDP and demand are also equal at point B");
		g.h("graph", m);
	}
	
	function twopoints() {
		var g = graph();
		var m = goodsMktGraph(g);
		m = goodsMktTwoPoints(g, m);
		g.h("graph", m);
	}
	
	function eqline() {
		var g = graph();
		var m = goodsMktGraph(g);
		m = goodsMktTwoPoints(g, m);
		m = goodsMktLine(g, m);
		m["explain"] = g.blueText(200, 120, "All possible equilbrium points:");
		m["explain2"] = g.blueText(200, 95, "Firms produce the amount demanded");
		m["explain3"] = g.blueText(200, 70, "at every point");
		g.h("graph", m);
	}
	
	function equilibrium() {
		var g = graph();
		g.width = 1000;
		g.xoffset = 80;
		var m = goodsMktGraph(g);
		m["line"] = g.line([0, 100], [650, 200]);
		m["label1"] = g.insertText(660, 200, "Demand");
		m["line2"] = g.line([0, 0], [500, 500]);
		m["label2"] = g.insertText(510, 500, "Demand = GDP");
		m["explain3"] = g.blueText(200, 70, "Equilibrium is where they meet");
		g.h("content", m);
	}
	
	/* Highlight the demand curve */
	function demandline() {
		var g = graph();
		g.width = 1000;
		g.xoffset = 80;
		var m = goodsMktGraph(g);
		m["line"] = g.line([0, 100], [650, 200], { 'color': 'blue', 'width': 6 });
		m["label1"] = g.insertText(660, 200, "Demand", {'color': 'blue'});
		m["line2"] = g.line([0, 0], [500, 500], { 'color': 'silver', 'width': 4 });
		m["label2"] = g.insertText(510, 500, "Demand = GDP", { 'color': 'silver' });
		m["explain3"] = g.blueText(200, 70, "Demand rises with GDP");
		g.h("content", m);
	}

	function eq() {
		var g = graph();
		g.width = 1000;
		g.xoffset = 80;
		var m = goodsMktGraph(g);
		m["line"] = g.line([0, 100], [650, 200], { 'color': 'black', 'width': 4 });
		m["label1"] = g.insertText(660, 200, "Demand", {'color': 'black'});
		m["line2"] = g.line([0, 0], [500, 500], { 'color': 'black', 'width': 4 });
		m["label2"] = g.insertText(510, 500, "Demand = GDP", { 'color': 'black' });
		m["explain1"] = g.insertText(200, 70, "The only point where consumers and firms", { 'color': 'black' });
		m["explain2"] = g.insertText(200, 45, "are both happy with the outcome", { 'color': 'black' });
		m["eq"] = g.point(118,118, {'color': 'green'});
		m["eqlabel"] = g.pointLabelTop(118, 118, "E", {'color': 'green'});
		m["eqbox"] = g.box(118, 128, 70, {'color': 'green'});
		g.h("content", m);
	}
</script>
